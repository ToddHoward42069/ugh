<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/3.5.0/remixicon.min.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css">
    <link rel="stylesheet" href="../../../stylesheets/MatheSpiel1.css">
    <title>MatheSpiel1</title>
</head>
<body>
    <header>
    <nav>
        <div class="nav-logo">
            <img src="../../../images/Logo.png" alt="Logo">
        </div>
        <div>
            <ul class="nav-links">
                <li class="link"><a href="../../../index.html">Home</a></li>
                <li id="link1" class="link">
                    <a href="#">Spiele</a>
                    <ul class="dropdown-menu">
                        <li><a href="../../deutsch.html" class="deutschClicks">Deutsch</a></li>
                        <li><a href="../../Mathe.html" class="matheClicks">Mathe</a></li>
                        <li><a href="../../GUP.html" class="gupClicks">GUP</a></li>
                    </ul>
                </li>
                <li id="link2" class="link"><a href="#">About</a></li>
            </ul>
        </div>
        <button class="btn">Search</button>
    </nav>
    </header>

    <div id="game-container">
        <h1>Kopfrechnen Spiel</h1>
        <div id="problem-container">
            <p id="problem">Berechne: <span id="question">5 + 3</span></p>
        </div>
        <input type="number" id="answer" placeholder="Gib deine Antwort ein">
        <button id="submit">Submit</button>
        <button id="restart">Neustart</button>
        <div id="feedback"></div>
        <div id="lives">Lives: <span id="lives-count">3</span></div>
        <div id="score">Score: <span id="score-count">0</span></div>
        <button class="btn" id="settings-btn">
            <i class="fas fa-cog"></i>
        </button>

        <div id="settings-menu">
            <ul>
                <li><a id="incremental-btn" class="difficulty-btn">Incremental</a></li>
                <li><a id="easy-btn" class="difficulty-btn">Easy</a></li>
                <li><a id="hard-btn" class="difficulty-btn">Hard</a></li>
            </ul>
        </div>        
    <script>
    let answer = document.getElementById("answer");
    let lives = document.getElementById("lives");
    let score = document.getElementById("score");
    let question = document.getElementById("question");
    let button = document.getElementById("submit");
    let scoreInt = 0;
    let livesInt = 3;
    let difficulty = "incremental";

    // Function to generate random questions based on the selected difficulty level
    function generateRandomQuestion() {
        let operand1, operand2, operator, answer;
    
        switch (difficulty) {
            case "incremental":
                operand1 = Math.floor(Math.random() * 10) + 1;
                operand2 = Math.floor(Math.random() * 10) + 1;
                operator = ['+', '-', '*', '/'][Math.floor(Math.random() * 4)];
                // Rest of the code...
                break;
            case "easy":
                operand1 = Math.floor(Math.random() * 10) + 1;
                operand2 = Math.floor(Math.random() * 10) + 1;
                operator = ['+', '-'][Math.floor(Math.random() * 2)];
                // Rest of the code...
                break;
            case "hard":
                operand1 = Math.floor(Math.random() * 100) + 1;
                operand2 = Math.floor(Math.random() * 100) + 1;
                operator = ['+', '-', '*', '/'][Math.floor(Math.random() * 4)];
                // Rest of the code...
                break;
            default:
                break;
        }

        // Calculate the answer based on the generated question
        switch (operator) {
            case '+':
                answer = operand1 + operand2;
                break;
            case '-':
                answer = operand1 - operand2;
                break;
            case '*':
                answer = operand1 * operand2;
                break;
            case '/':
                if (operand2 === 0) {
                    operand2 = 1; // Prevent division by zero
                }
                answer = operand1 / operand2;
                break;
            default:
                break;
        }

        const question = `${operand1} ${operator} ${operand2}`;
        return { question, answer };
    }

    let currentQuestion = generateRandomQuestion();

    function displayRandomQuestion() {
        currentQuestion = generateRandomQuestion();
        question.textContent = currentQuestion.question;
    }

    displayRandomQuestion();

    button.addEventListener("click", function () {
        const playerAnswer = parseFloat(answer.value);
        const correctAnswer = parseFloat(currentQuestion.answer);

        if (playerAnswer === correctAnswer) {
            scoreInt += 1;
            displayRandomQuestion();
        } else {
            livesInt -= 1;
            if (livesInt === 0) {
                gameLost();
            }
        }

        answer.value = "";
        lives.textContent = "Lives: " + livesInt;
        score.textContent = "Score: " + scoreInt;
    });

    const restartButton = document.getElementById("restart");
    restartButton.addEventListener("click", function () {
        scoreInt = 0;
        livesInt = 3;
        displayRandomQuestion();
        answer.value = "";
        lives.textContent = "Lives: " + livesInt;
        score.textContent = "Score: " + scoreInt;
        button.disabled = false;
    });

    function gameLost() {
        question.textContent = "Game Over";
        button.disabled = true;
        // Additional actions after game over
    }

    const incrementalButton = document.getElementById("incremental-btn");
    const easyButton = document.getElementById("easy-btn");
    const hardButton = document.getElementById("hard-btn");

    // Function to remove the "selected" class from all difficulty buttons
    function clearSelectedDifficulty() {
        const difficultyButtons = document.querySelectorAll(".difficulty-btn");
        difficultyButtons.forEach(button => {
            button.classList.remove("selected");
        });
    }

    incrementalButton.addEventListener("click", function () {
    difficulty = "incremental";
    clearSelectedDifficulty();
    incrementalButton.classList.add("selected");
    displayRandomQuestion();
});

easyButton.addEventListener("click", function () {
    difficulty = "easy";
    clearSelectedDifficulty();
    easyButton.classList.add("selected");
    displayRandomQuestion();
});

hardButton.addEventListener("click", function () {
    difficulty = "hard";
    clearSelectedDifficulty();
    hardButton.classList.add("selected");
    displayRandomQuestion();
});

const settingsButton = document.getElementById("settings-btn");
const settingsMenu = document.getElementById("settings-menu");

settingsButton.addEventListener("click", function () {
   settingsMenu.style.display = (settingsMenu.style.display === "none") ? "block" : "none";
});

// Close the settings menu when clicking outside of it
window.addEventListener("click", function (event) {
   if (!settingsButton.contains(event.target) && !settingsMenu.contains(event.target)) {
      settingsMenu.style.display = "none";
   }
});

answer.addEventListener("keypress", function (event) {
    if (event.keyCode === 13) { // 13 is the key code for Enter
        button.click();
    }
});
    </script>
</body>
</html>