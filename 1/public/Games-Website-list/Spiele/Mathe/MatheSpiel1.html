<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/3.5.0/remixicon.min.css">
    <link rel="stylesheet" href="../../../stylesheets/MatheSpiel1.css">
    <title>MatheSpiel1</title>
</head>
<body>
    <header>
    <nav>
        <div class="nav-logo">
            <img src="../../../images/Logo.png" alt="Logo">
        </div>
        <div>
            <ul class="nav-links">
                <li class="link"><a href="../../../index.html">Home</a></li>
                <li id="link1" class="link">
                    <a href="#">Spiele</a>
                    <ul class="dropdown-menu">
                        <li><a href="../../deutsch.html" class="deutschClicks">Deutsch</a></li>
                        <li><a href="../../Mathe.html" class="matheClicks">Mathe</a></li>
                        <li><a href="../../GUP.html" class="gupClicks">GUP</a></li>
                    </ul>
                </li>
                <li id="link2" class="link"><a href="#">About</a></li>
            </ul>
        </div>
        <button class="btn">Search</button>
    </nav>
    </header>

    <div id="game-container">
        <h1>Kopfrechnen Spiel</h1>
        <div id="problem-container">
            <p id="problem">Berechne: <span id="question">5 + 3</span></p>
        </div>
        <input type="number" id="answer" placeholder="Gib deine Antwort ein">
        <button id="submit">Submit</button>
        <button id="restart">Neustart</button>
        <div id="feedback"></div>
        <div id="lives">Lives: <span id="lives-count">3</span></div>
        <div id="score">Score: <span id="score-count">0</span></div>
    </div>

    <script>
        let answer = document.getElementById("answer");
        let lives = document.getElementById("lives");
        let score = document.getElementById("score");
        let question = document.getElementById("question");
        let button = document.getElementById("submit");
        let scoreInt = 0;
        let livesInt = 3;

// Funktion zum Generieren zufälliger Aufgaben
function generateRandomQuestion() {
    let operand1, operand2, operator, answer;

    do {
        operand1 = Math.floor(Math.random() * 10) + 1; // Zufällige ganze Zahl zwischen 1 und 10
        operand2 = Math.floor(Math.random() * 10) + 1;
        operator = ['+', '-', '*', '/'][Math.floor(Math.random() * 4)]; // Zufälliger Operator

        switch (operator) {
            case '+':
                answer = operand1 + operand2;
                break;
            case '-':
                answer = operand1 - operand2;
                break;
            case '*':
                answer = operand1 * operand2;
                break;
            case '/':
                if (operand2 === 0) {
                    operand2 = 1; // Verhindert Division durch Null
                }
                answer = operand1 / operand2;
                break;
            default:
                break;
        }
    } while (!Number.isInteger(answer));

    const question = `${operand1} ${operator} ${operand2}`;

    return { question, answer };
}

let currentQuestion = generateRandomQuestion();

function displayRandomQuestion() {
    currentQuestion = generateRandomQuestion();
    question.textContent = currentQuestion.question;
}

displayRandomQuestion(); // Zeige die erste zufällige Frage

button.addEventListener("click", function () {
    const playerAnswer = parseFloat(answer.value);
    const correctAnswer = parseFloat(currentQuestion.answer); // Antwort aus der Frage

    // Prüfe, ob die Spielerantwort genau mit der korrekten Antwort übereinstimmt
    if (playerAnswer === correctAnswer) {
        scoreInt += 1;
        displayRandomQuestion();
    } else {
        livesInt -= 1;
        
        if (livesInt === 0) {
            gameLost();
        }
    }

    answer.value = "";
    lives.textContent = "Lives: " + livesInt;
    score.textContent = "Score: " + scoreInt;
});

const restartButton = document.getElementById("restart");

restartButton.addEventListener("click", function () {
    // Setze das Spiel zurück
    scoreInt = 0;
    livesInt = 3;
    displayRandomQuestion();
    answer.value = "";
    lives.textContent = "Lives: " + livesInt;
    score.textContent = "Score: " + scoreInt;
    button.disabled = false; // Aktiviere den "Submit"-Button
});

function gameLost() {
    // Hier kannst du den Code hinzufügen, um das Spielende zu behandeln
    // Zum Beispiel: Eine Nachricht anzeigen, das Spiel zurücksetzen usw.
    question.textContent = "Spiel beendet";
    button.disabled = true; // Deaktiviere den "Submit"-Button
    // Weitere Aktionen nach Spielende hier
}
    </script>
</body>
</html>